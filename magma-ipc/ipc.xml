<?xml version="1.0" encoding="UTF-8"?>
<protocol name="magma">
    <description summary="Magma's IPC Protocol">This is the protocol defenition for Magma's IPC, it is intended to be used with a wrapper</description>
    <copyright>
    This file is part of MagmaWM.

    MagmaWM is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License Version 3 as published by the Free Software Foundation.

    MagmaWM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.

    You should have received a copy of the GNU General Public License along with MagmaWM. If not, see https://www.gnu.org/licenses/
    </copyright>

    <interface name="magma_ipc" version="1"> <!-- This is the main interface, it is used to subscribe to events -->
        <request name="workspaces">
            <description summary = "subscribe to workspace events">subscribe to workspace events</description>
            <arg name="id" type="new_id" interface="workspaces"/>
        </request>
    </interface>


    <interface name="workspaces" version="1"> <!-- This is the workspace interface, it is used to send events -->
        <event name="active_workspace">
            <description summary = "active workspace changed">active workspace changed</description>
            <arg name="id" type="uint" summary="workspace id"/>
        </event>
        <event name="occupied_workspaces">
            <description summary = "workspace occupation changed">occupied workspaces changed</description>
            <arg name="occupied" type="array" summary="occupied workspaces"/>
        </event>
    </interface>
</protocol>